{"error":{},"level":"error","message":"Unexpected error:","stack":"ReferenceError: setImmediate is not defined\n    at Console.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/transports/console.js:53:5)\n    at Console._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston-transport@4.7.1/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:530:35)\n    at DerivedLogger.emit (node:domain:488:12)\n    at addChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:279:12)\n    at readableAddChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:262:11)\n    at DerivedLogger.Object.<anonymous>.Readable.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:228:10)\n    at DerivedLogger.Object.<anonymous>.Transform.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:132:32)\n    at DerivedLogger._transform (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:313:12)\n    at DerivedLogger.Object.<anonymous>.Transform._read (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at DerivedLogger.Object.<anonymous>.Transform._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at DerivedLogger.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:252:14)\n    at DerivedLogger.info (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/create-logger.js:95:19)\n    at logInfo (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:71:10)\n    at _callee2$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:24:10)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:26:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at getPlaylists (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:9:14)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:20:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.spec.ts:49:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.884Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"ReferenceError: setImmediate is not defined\n    at Console.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/transports/console.js:53:5)\n    at Console._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston-transport@4.7.1/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:530:35)\n    at DerivedLogger.emit (node:domain:488:12)\n    at addChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:279:12)\n    at readableAddChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:262:11)\n    at DerivedLogger.Object.<anonymous>.Readable.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:228:10)\n    at DerivedLogger.Object.<anonymous>.Transform.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:132:32)\n    at DerivedLogger._transform (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:313:12)\n    at DerivedLogger.Object.<anonymous>.Transform._read (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at DerivedLogger.Object.<anonymous>.Transform._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at DerivedLogger.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:252:14)\n    at DerivedLogger.info (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/create-logger.js:95:19)\n    at logInfo (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:71:10)\n    at _callee2$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:31:10)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at apply (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:33:2)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:29:24)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:13:46)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at apply (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:27:2)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:60:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.971Z"}
{"level":"error","message":"Playlist creation failed","reason":"Missing name","timestamp":"2024-09-23T03:22:01.887Z"}
{"level":"error","message":"AppError: Playlist name is required","stack":"Error: Playlist name is required\n    at _callee3$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:33:11)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:44:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at createPlaylist (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:11:14)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:20:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee3$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.spec.ts:78:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","statusCode":400,"timestamp":"2024-09-23T03:22:01.887Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:55:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at apply (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:88:2)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:46:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:20:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee3$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:98:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.973Z"}
{"level":"error","message":"Invalid method for search","method":"POST","timestamp":"2024-09-23T03:22:02.030Z"}
{"id":"999","level":"error","message":"Playlist update failed","reason":"Playlist not found","timestamp":"2024-09-23T03:22:01.888Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:55:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:46:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:20:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:113:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.974Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"ReferenceError: setImmediate is not defined\n    at Console.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/transports/console.js:53:5)\n    at Console._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston-transport@4.7.1/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:530:35)\n    at DerivedLogger.emit (node:domain:488:12)\n    at addChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:279:12)\n    at readableAddChunk (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:262:11)\n    at DerivedLogger.Object.<anonymous>.Readable.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js:228:10)\n    at DerivedLogger.Object.<anonymous>.Transform.push (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:132:32)\n    at DerivedLogger._transform (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:313:12)\n    at DerivedLogger.Object.<anonymous>.Transform._read (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at DerivedLogger.Object.<anonymous>.Transform._write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at DerivedLogger.Object.<anonymous>.Writable.write (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.log (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/logger.js:252:14)\n    at DerivedLogger.error (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/winston@3.14.2/node_modules/winston/lib/winston/create-logger.js:95:19)\n    at logError (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:79:10)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:8:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:38:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.spec.ts:48:18)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:02.032Z"}
{"level":"error","message":"Invalid search query","timestamp":"2024-09-23T03:22:02.032Z"}
{"level":"error","message":"AppError: Search query is required","stack":"Error: Search query is required\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:16:11)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:38:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee2$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.spec.ts:54:18)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","statusCode":400,"timestamp":"2024-09-23T03:22:02.033Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"Error: Database error\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.spec.ts:81:13)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-mock@29.7.0/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-mock@29.7.0/node_modules/jest-mock/build/index.js:404:13)\n    at Object.prepare (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-mock@29.7.0/node_modules/jest-mock/build/index.js:148:19)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:21:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.ts:38:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/search.spec.ts:84:18)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:02.036Z"}
{"level":"error","message":"AppError: Playlist not found","stack":"Error: Playlist not found\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:64:11)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:69:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at updatePlaylist (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:13:14)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:20:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.spec.ts:105:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","statusCode":404,"timestamp":"2024-09-23T03:22:01.889Z"}
{"id":"999","level":"error","message":"Playlist deletion failed","reason":"Playlist not found","timestamp":"2024-09-23T03:22:01.890Z"}
{"level":"error","message":"AppError: Playlist not found","stack":"Error: Playlist not found\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:83:11)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:88:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at deletePlaylist (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:15:14)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.ts:20:2)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4\n    at _callee7$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/playlists.spec.ts:130:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","statusCode":404,"timestamp":"2024-09-23T03:22:01.890Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee4$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:55:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:46:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:20:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:123:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.974Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:98:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at apply (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:113:2)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:90:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:22:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee6$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:137:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.975Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:98:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:90:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:22:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee7$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:151:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.976Z"}
{"error":{},"level":"error","message":"Unexpected error:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at _callee5$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:98:19)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at fn (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:90:26)\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:61:13)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/lib/errorHandler.ts:65:4)\n    at /Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:16:7\n    at _callee$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:22:48)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at apply (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at handler (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.ts:10:38)\n    at _callee8$ (/Users/alm/WebstormProjects/music-player/apps/music-player/src/pages/api/users.spec.ts:160:20)\n    at tryCatch (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:45:16)\n    at Generator.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:133:17)\n    at Generator.next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:74:21)\n    at asyncGeneratorStep (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n    at _next (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n    at /Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n    at Promise.then.completed (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/alm/WebstormProjects/music-player/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)","timestamp":"2024-09-23T03:22:01.976Z"}
